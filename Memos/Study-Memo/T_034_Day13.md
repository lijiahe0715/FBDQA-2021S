***Week13***

2018012079 张启钟

------

[TOC]

------

## Part 1 正态性检验、投资组合优化

略

## Part 2 量化策略的深入诊断

### 量化策略开发的基本流程

- 收益类别：Alpha；
- 输入：价格（趋势跟随、均值回复、技术情绪）、基本面（价值、成长、质量）；
- 设计细节：预测目标、模型设定、条件变量、运行频率；
- 实施：投资期限、投注结构（方向、相对）、金融产品（流动性）
- 盈利点：认知偏差、情绪偏差；
- 特点：系统性、高效率、纪律性
- 模型：Alpha模型、风险模型、交易成本模型；投资组合构建模型；执行模型
- 数据处理：收集、校验、对比、清洗、对齐、配置；统计分析：基础模型、统计检验、数据样本检验、协整分析、样本内外测试、过拟合检验、鲁棒性分析；调整修正：回测平台、计算维度、策略逻辑、操作系统、编程语言；

### 鉴别回测中的虚高收益率

- 年化计算有bug：是否复利、复权，价格引用对不对
- 回测周期太短、赶上同期大盘好：股票型策略回测至少需要跨越一个牛熊周期
- 回测周期碰巧抓到大牛股：换一个时间段测试
- 过度拟合、只适用于摸个阶段：是否有样本外的测试、3.15ATR止损、0.156783%的风险因子
- 使用了未来函数
- 回测没有统计意义、违背了交易规则、出现流动性缺失时的正常成交、流动性对于价格的影响、国度里香花价格、偶然性影响

### 检验策略逻辑的隐蔽问题：未来函数

- 定义：满足时序不变性的函数，即时间靠后的数据不对时间靠前的结果产生影响
- 典型情况：偷价：收盘价未卜先知、在最值点准确交易、当日买股当日卖股；收盘价成交；财务\公告类指标的更新时间：早于上市公司季报；高频交易的成本和成交价
- 事件驱动型策略的问题：信息来源：上市公司公告、新闻；通常发布时间：交易日收盘后；通常发布后的动作：第二日停牌、同城复盘后的市场反应：连续涨跌停、典型的未来函数：公告日收盘价买入

### 量化策略诊断Checklist

- 回测多周期：避免受单一行情类型的影响，产生偏误
- 回测多起点：避免偶然性的影响
- 样本外测试：从统计模型测试的角度，验证模型的延展性
- 足够多的交易笔数：验证量化模型的统计意义
- 检查几个关键指标：夏普、最大回撤、年化收益率、信息率、索提诺比率、Alpha、Beta、涨跌天数、逐笔收益分布
- 检查交易记录：不能有任何未来函数、成交价格是否在合理范围、成本是否合理、核对基础数据、重点停复牌复权