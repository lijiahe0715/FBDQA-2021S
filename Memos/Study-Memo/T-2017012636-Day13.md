# 第13次课后小结

## 主要学习内容

## 量化策略诊断

### 量化策略开发基本流程

1. 基于三类数据：

   1. 宏观经济环境数据：经济周期，经济指标，基础利率，CPI,PPI
   2. 行业与公司基本面：财报，分析师研报，大宗商品板块，产业链
   3. 市场交易数据：宏观数据，微观数据，流动性分析，机构结构

2. 四个步骤：

   策略建模

   追溯测试

   修正错误（系统测试风险管理

   自动化操作

3. 技术支持：告诉通信通道，托管机房，网络架构，期货接口（高速飞马/一般CTP)

4. 数据处理：数据收集，数据校验，数据比对，数据清洗，数据对齐，管理配置

    数据对齐：确定主力数据，对齐不同数据的传输和接收时间。

### 基于回测结果对策略的反思

1. 回测虚高的原因：
   1. 年化计算有BUG
   2. 回测周期太短，赶上同期大盘好
   3. 回测周期恰好碰到大牛股
   4. 过度拟合
   5. 使用了未来函数
2. 关于回测反思的参考
   1. 年化收益20%，最大回撤 6%是很好的策略。但很多大资金量的机构仍承担不起这样的回撤？
   2. 偶然性影响：第三方平台的不可信，黑箱（数据、接口等未知）
3. 关于策略的反思
   1. 回测是否具有有统计意义（成交次数复盘）
   2. 是否违背了交易规则（临时停牌）
   3. 是否出现流动性短缺时的成交（涨跌停，成交量为0的时段注意不能改写历史）
   4. 是否考虑了流动性对成交量的影响（单笔成交量占当日成交量占比不能过大）
   5. 是否理想化的使用了价格（以开收盘价？精准的高买高卖？）
   6. 是否存在偶然性影响

### 策略逻辑的隐蔽漏洞：
未来函数
之前的大涨，用相应的参数制造函数（未来改变历史）；
后验指标；